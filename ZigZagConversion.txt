#include <iostream>
#include <string.h>
using namespace std;

/***
The string "PAYPALISHIRING" is written in a zigzag pattern on a given number of rows like this:
(you may want to display this pattern in a fixed font for better legibility)

P   A   H   N
A P L S I I G
Y   I   R

And then read line by line: "PAHNAPLSIIGYIR"
Write the code that will take a string and make this conversion given a number of rows:
string convert(string text, int nRows);
convert("PAYPALISHIRING", 3) should return "PAHNAPLSIIGYIR".
**/

class Solution {
public:
    string convert(string s, int nRows) {
        if(nRows <= 0){
            return "";
        }

        if(nRows == 1 || s.length() <= nRows){
            return s;
        }

        string str[nRows];
        string newStr = "";
        int step = 1;
        int j = 0;
        for(size_t i=0; i< s.length(); i++){
            if(j >= 0 && j < nRows){
                str[j] = str[j] + s[i];
                j += step;

                if(j == nRows && step > 0 ){
                    step = -1;
                    j = nRows-2;
                }
                if(j == -1 && step < 0){
                    step = 1;
                    j = 1;
                }
            }
        }

        for(int i=0; i<nRows; i++){
           newStr = newStr + str[i];
        }
        return newStr;
    }
};

int main()
{
    cout << "Hello world!" <<endl;
    //string s = "PAYPALISHIRING";
    string s = "PAYPA";
    int nRows = -1;
    Solution sl;

    cout << sl.convert(s, nRows);

    return 0;
}
